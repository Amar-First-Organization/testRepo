=== tests/cases/compiler/issue49938.ts ===
function equal<T>(a: T, b: T) { }
>equal : <T>(a: T, b: T) => void
>a : T
>b : T

let v = null!;
>v : never
>null! : never
>null : null

// Object types with common base types

type B = { foo: string }
>B : { foo: string; }
>foo : string

type D = { foo: string; bar: number }
>D : { foo: string; bar: number; }
>foo : string
>bar : number

// Error in 4.8 TS can't find common type ❌
// 4.7 T was undefined | B
equal(v as B, v as undefined | D)
>equal(v as B, v as undefined | D) : void
>equal : <T>(a: T, b: T) => void
>v as B : B
>v : never
>v as undefined | D : D | undefined
>v : never

// ok T is B ✅
equal(v as B, v as D)
>equal(v as B, v as D) : void
>equal : <T>(a: T, b: T) => void
>v as B : B
>v : never
>v as D : D
>v : never

// ok T is B | undefined ✅
equal(v as B, v as B | undefined)
>equal(v as B, v as B | undefined) : void
>equal : <T>(a: T, b: T) => void
>v as B : B
>v : never
>v as B | undefined : B | undefined
>v : never

