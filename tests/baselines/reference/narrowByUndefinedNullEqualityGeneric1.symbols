//// [tests/cases/compiler/narrowByUndefinedNullEqualityGeneric1.ts] ////

=== narrowByUndefinedNullEqualityGeneric1.ts ===
function f1<T extends Record<string, any>, K extends keyof T>(
>f1 : Symbol(f1, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 0))
>T : Symbol(T, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 12))
>Record : Symbol(Record, Decl(lib.es5.d.ts, --, --))
>K : Symbol(K, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 42))
>T : Symbol(T, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 12))

  x: T[K] | undefined,
>x : Symbol(x, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 62))
>T : Symbol(T, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 12))
>K : Symbol(K, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 42))

) {
  if (x === undefined) return;
>x : Symbol(x, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 62))
>undefined : Symbol(undefined)

  x;
>x : Symbol(x, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 62))

  if (x === undefined) return;
>x : Symbol(x, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 62))
>undefined : Symbol(undefined)

  x;
>x : Symbol(x, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 0, 62))
}

function f2<T extends Record<string, any>, K extends keyof T>(x: T[K] | null) {
>f2 : Symbol(f2, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 7, 1))
>T : Symbol(T, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 9, 12))
>Record : Symbol(Record, Decl(lib.es5.d.ts, --, --))
>K : Symbol(K, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 9, 42))
>T : Symbol(T, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 9, 12))
>x : Symbol(x, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 9, 62))
>T : Symbol(T, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 9, 12))
>K : Symbol(K, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 9, 42))

  if (x === null) return;
>x : Symbol(x, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 9, 62))

  x;
>x : Symbol(x, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 9, 62))

  if (x === null) return;
>x : Symbol(x, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 9, 62))

  x;
>x : Symbol(x, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 9, 62))
}

// https://github.com/microsoft/TypeScript/issues/57693

type AnyObject = Record<string, any>;
>AnyObject : Symbol(AnyObject, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 14, 1))
>Record : Symbol(Record, Decl(lib.es5.d.ts, --, --))

type State = AnyObject;
>State : Symbol(State, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 18, 37))
>AnyObject : Symbol(AnyObject, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 14, 1))

declare function hasOwnProperty<T extends AnyObject>(
>hasOwnProperty : Symbol(hasOwnProperty, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 19, 23))
>T : Symbol(T, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 21, 32))
>AnyObject : Symbol(AnyObject, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 14, 1))

  object: T,
>object : Symbol(object, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 21, 53))
>T : Symbol(T, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 21, 32))

  prop: PropertyKey,
>prop : Symbol(prop, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 22, 12))
>PropertyKey : Symbol(PropertyKey, Decl(lib.es5.d.ts, --, --))

): prop is keyof T;
>prop : Symbol(prop, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 22, 12))
>T : Symbol(T, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 21, 32))

interface Store<S = State> {
>Store : Symbol(Store, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 24, 19))
>S : Symbol(S, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 26, 16))
>State : Symbol(State, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 18, 37))

  setState<K extends keyof S>(key: K, value: S[K]): void;
>setState : Symbol(Store.setState, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 26, 28))
>K : Symbol(K, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 27, 11))
>S : Symbol(S, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 26, 16))
>key : Symbol(key, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 27, 30))
>K : Symbol(K, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 27, 11))
>value : Symbol(value, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 27, 37))
>S : Symbol(S, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 26, 16))
>K : Symbol(K, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 27, 11))
}

export function syncStoreProp<
>syncStoreProp : Symbol(syncStoreProp, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 28, 1))

  S extends State,
>S : Symbol(S, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 30, 30))
>State : Symbol(State, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 18, 37))

  P extends Partial<S>,
>P : Symbol(P, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 31, 18))
>Partial : Symbol(Partial, Decl(lib.es5.d.ts, --, --))
>S : Symbol(S, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 30, 30))

  K extends keyof S,
>K : Symbol(K, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 32, 23))
>S : Symbol(S, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 30, 30))

>(store: Store<S>, props: P, key: K) {
>store : Symbol(store, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 2))
>Store : Symbol(Store, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 24, 19))
>S : Symbol(S, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 30, 30))
>props : Symbol(props, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 18))
>P : Symbol(P, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 31, 18))
>key : Symbol(key, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 28))
>K : Symbol(K, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 32, 23))

  const value = hasOwnProperty(props, key) ? props[key] : undefined;
>value : Symbol(value, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 35, 7))
>hasOwnProperty : Symbol(hasOwnProperty, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 19, 23))
>props : Symbol(props, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 18))
>key : Symbol(key, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 28))
>props : Symbol(props, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 18))
>key : Symbol(key, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 28))
>undefined : Symbol(undefined)

  if (value === undefined) return;
>value : Symbol(value, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 35, 7))
>undefined : Symbol(undefined)

  store.setState(key, value);
>store.setState : Symbol(Store.setState, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 26, 28))
>store : Symbol(store, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 2))
>setState : Symbol(Store.setState, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 26, 28))
>key : Symbol(key, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 28))
>value : Symbol(value, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 35, 7))

  if (value === undefined) return;
>value : Symbol(value, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 35, 7))
>undefined : Symbol(undefined)

  store.setState(key, value);
>store.setState : Symbol(Store.setState, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 26, 28))
>store : Symbol(store, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 2))
>setState : Symbol(Store.setState, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 26, 28))
>key : Symbol(key, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 34, 28))
>value : Symbol(value, Decl(narrowByUndefinedNullEqualityGeneric1.ts, 35, 7))
}

