// [[Reason: undefined]] ////

//// [tests/cases/compiler/constEnums.ts] ////

===================================================================
--- TSC	declarations
+++ DTE	declarations
@@ -28,11 +28,11 @@
     T = 11,
     U = 11,
     V = 11,
     W = 11,
-    W1 = 100,
-    W2 = 100,
-    W3 = 100,
+    W1,
+    W2,
+    W3,
     W4 = 11,
     W5 = 11
 }
 declare const enum Comments {
@@ -48,19 +48,19 @@
     namespace B {
         namespace C {
             const enum E {
                 V1 = 1,
-                V2 = 101
+                V2
             }
         }
     }
 }
 declare namespace A {
     namespace B {
         namespace C {
             const enum E {
-                V3 = 64,
-                V4 = 2
+                V3,
+                V4
             }
         }
     }
 }
@@ -94,4 +94,274 @@
 declare function foo2(e: I2.C.E): void;
 declare function foo(x: Enum1): void;
 declare function bar(e: A.B.C.E): number;
 declare function baz(c: Comments): void;
+/// [Errors] ////
+
+constEnums.ts(10,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(11,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(12,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(13,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(14,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(15,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(16,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(17,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(18,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(19,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(20,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(21,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(22,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(23,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(24,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(25,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(26,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(27,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(28,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(29,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(30,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(33,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(34,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(35,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(36,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(37,5): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(55,17): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(65,17): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+constEnums.ts(66,17): error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+
+
+==== constEnums.ts (29 errors) ====
+    const enum Enum1 {
+       A0 = 100,
+    }
+    
+    const enum Enum1 {
+        // correct cases
+        A,
+        B,
+        C = 10,
+        D = A | B,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        E = A | 1,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        F = 1 | A,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        G = (1 & 1),
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        H = ~(A | B),
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        I = A >>> 1,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        J = 1 & A,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        K = ~(1 | 5),
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        L = ~D,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        M = E << B,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        N = E << 1,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        O = E >> B,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        P = E >> 1,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        PQ = E ** 2,
+        ~~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        Q = -D,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        R = C & 5,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        S = 5 & C,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        T = C | D,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        U = C | 1,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        V = 10 | D,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        W = Enum1.V,
+        ~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+    
+        // correct cases: reference to the enum member from different enum declaration
+        W1 = A0,
+        ~~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        W2 = Enum1.A0,
+        ~~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        W3 = Enum1["A0"],
+        ~~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        W4 = Enum1["W"],
+        ~~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+        W5 = Enum1[`V`],
+        ~~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+    }
+    
+    const enum Comments {
+        "//",
+        "/*",
+        "*/",
+        "///",
+        "#",
+        "<!--",
+        "-->",
+    }
+    
+    module A {
+        export module B {
+            export module C {
+                export const enum E {
+                    V1 = 1,
+                    V2 = A.B.C.E.V1 | 100
+                    ~~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+                }
+            }
+        }
+    }
+    
+    module A {
+        export module B {
+            export module C {
+                export const enum E {
+                    V3 = A.B.C.E["V2"] & 200,
+                    ~~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+                    V4 = A.B.C.E[`V1`] << 1,
+                    ~~
+!!! error TS9007: Declaration emit for this file requires type resolution. An explicit type annotation may unblock declaration emit.
+                }
+            }
+        }
+    }
+    
+    module A1 {
+        export module B {
+            export module C {
+                export const enum E {
+                    V1 = 10,
+                    V2 = 110,
+                }
+            }
+        }
+    }
+    
+    module A2 {
+        export module B {
+            export module C {
+                export const enum E {
+                    V1 = 10,
+                    V2 = 110,
+                }
+            }
+            // module C will be classified as value
+            export module C {
+                var x = 1
+            }
+        }
+    }
+    
+    import I = A.B.C.E;
+    import I1 = A1.B;
+    import I2 = A2.B;
+    
+    function foo0(e: I): void {
+        if (e === I.V1) {
+        }
+        else if (e === I.V2) {
+        }
+    }
+    
+    function foo1(e: I1.C.E): void {
+        if (e === I1.C.E.V1) {
+        }
+        else if (e === I1.C.E.V2) {
+        }
+    }
+    
+    function foo2(e: I2.C.E): void {
+        if (e === I2.C.E.V1) {
+        }
+        else if (e === I2.C.E.V2) {
+        }
+    }
+    
+    
+    function foo(x: Enum1): void {
+        switch (x) {
+            case Enum1.A:
+            case Enum1.B:
+            case Enum1.C:
+            case Enum1.D:
+            case Enum1.E:
+            case Enum1.F:
+            case Enum1.G:
+            case Enum1.H:
+            case Enum1.I:
+            case Enum1.J:
+            case Enum1.K:
+            case Enum1.L:
+            case Enum1.M:
+            case Enum1.N:
+            case Enum1.O:
+            case Enum1.P:
+            case Enum1.PQ:
+            case Enum1.Q:
+            case Enum1.R:
+            case Enum1.S:
+            case Enum1["T"]:
+            case Enum1[`U`]:
+            case Enum1.V:
+            case Enum1.W:
+            case Enum1.W1:
+            case Enum1.W2:
+            case Enum1.W3:
+            case Enum1.W4:
+                break;
+        }
+    }
+    
+    function bar(e: A.B.C.E): number {
+        switch (e) {
+            case A.B.C.E.V1: return 1;
+            case A.B.C.E.V2: return 1;
+            case A.B.C.E.V3: return 1;
+        }
+    }
+    
+    function baz(c: Comments): void {
+        switch (c) {
+            case Comments["//"]:
+            case Comments["/*"]:
+            case Comments["*/"]:
+            case Comments["///"]:
+            case Comments["#"]:
+            case Comments["<!--"]:
+            case Comments["-->"]:
+            break;
+        }
+    }
+    
\ No newline at end of file
